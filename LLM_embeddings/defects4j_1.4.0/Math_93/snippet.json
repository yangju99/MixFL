[
  {
    "name": "MathUtils.factorial",
    "class_name": "org.apache.commons.math.util.MathUtils",
    "signature": "org.apache.commons.math.util.MathUtils.factorial(int)",
    "snippet": "    public static long factorial(final int n) {\n        long result = Math.round(factorialDouble(n));\n        if (result == Long.MAX_VALUE) {\n            throw new ArithmeticException(\n                    \"factorial value is too large to fit in a long\");\n        }\n        return factorials[n];\n    }",
    "comment": " Returns n!. Shorthand for <code>n</code> <a href=\"http://mathworld.wolfram.com/Factorial.html\"> Factorial</a>, the product of the numbers <code>1,...,n</code>. <p> <Strong>Preconditions</strong>: <ul> <li> <code>n >= 0</code> (otherwise <code>IllegalArgumentException</code> is thrown)</li> <li> The result is small enough to fit into a <code>long</code>. The largest value of <code>n</code> for which <code>n!</code> < Long.MAX_VALUE</code> is 20. If the computed value exceeds <code>Long.MAX_VALUE</code> an <code>ArithMeticException </code> is thrown.</li> </ul> </p>  @param n argument @return <code>n!</code> @throws ArithmeticException if the result is too large to be represented by a long integer. @throws IllegalArgumentException if n < 0 ",
    "is_bug": true,
    "failing_test_cases": 1,
    "buggy_methods": 3
  },
  {
    "name": "MathUtils.factorialDouble",
    "class_name": "org.apache.commons.math.util.MathUtils",
    "signature": "org.apache.commons.math.util.MathUtils.factorialDouble(int)",
    "snippet": "    public static double factorialDouble(final int n) {\n        if (n < 0) {\n            throw new IllegalArgumentException(\"must have n >= 0 for n!\");\n        }\n        return Math.floor(Math.exp(factorialLog(n)) + 0.5);\n    }",
    "comment": " Returns n!. Shorthand for <code>n</code> <a href=\"http://mathworld.wolfram.com/Factorial.html\"> Factorial</a>, the product of the numbers <code>1,...,n</code> as a <code>double</code>. <p> <Strong>Preconditions</strong>: <ul> <li> <code>n >= 0</code> (otherwise <code>IllegalArgumentException</code> is thrown)</li> <li> The result is small enough to fit into a <code>double</code>. The largest value of <code>n</code> for which <code>n!</code> < Double.MAX_VALUE</code> is 170. If the computed value exceeds Double.MAX_VALUE, Double.POSITIVE_INFINITY is returned</li> </ul> </p>  @param n argument @return <code>n!</code> @throws IllegalArgumentException if n < 0 ",
    "is_bug": true,
    "failing_test_cases": 1,
    "buggy_methods": 3
  },
  {
    "name": "MathUtils.factorialLog",
    "class_name": "org.apache.commons.math.util.MathUtils",
    "signature": "org.apache.commons.math.util.MathUtils.factorialLog(int)",
    "snippet": "    public static double factorialLog(final int n) {\n        if (n < 0) {\n            throw new IllegalArgumentException(\"must have n > 0 for n!\");\n        }\n        double logSum = 0;\n        for (int i = 2; i <= n; i++) {\n            logSum += Math.log((double)i);\n        }\n        return logSum;\n    }",
    "comment": " Returns the natural logarithm of n!. <p> <Strong>Preconditions</strong>: <ul> <li> <code>n >= 0</code> (otherwise <code>IllegalArgumentException</code> is thrown)</li> </ul></p>  @param n argument @return <code>n!</code> @throws IllegalArgumentException if preconditions are not met. ",
    "is_bug": true,
    "failing_test_cases": 1,
    "buggy_methods": 3
  }
]