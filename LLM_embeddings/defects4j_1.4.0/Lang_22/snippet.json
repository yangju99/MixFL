[
  {
    "name": "Fraction.equals",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.equals(Object)",
    "snippet": "    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n        if (obj instanceof Fraction == false) {\n            return false;\n        }\n        Fraction other = (Fraction) obj;\n        return (getNumerator() == other.getNumerator() &&\n                getDenominator() == other.getDenominator());\n    }",
    "comment": " <p>Compares this fraction to another object to test if they are equal.</p>.  <p>To be equal, both values must be equal. Thus 2/4 is not equal to 1/2.</p>  @param obj the reference object with which to compare @return <code>true</code> if this object is equal ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.getDenominator",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.getDenominator()",
    "snippet": "    public int getDenominator() {\n        return denominator;\n    }",
    "comment": " <p>Gets the denominator part of the fraction.</p>  @return the denominator fraction part ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.getFraction",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.getFraction(int,int)",
    "snippet": "    public static Fraction getFraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new ArithmeticException(\"The denominator must not be zero\");\n        }\n        if (denominator < 0) {\n            if (numerator==Integer.MIN_VALUE ||\n                    denominator==Integer.MIN_VALUE) {\n                throw new ArithmeticException(\"overflow: can't negate\");\n            }\n            numerator = -numerator;\n            denominator = -denominator;\n        }\n        return new Fraction(numerator, denominator);\n    }",
    "comment": " <p>Creates a <code>Fraction</code> instance with the 2 parts of a fraction Y/Z.</p>  <p>Any negative signs are resolved to be on the numerator.</p>  @param numerator  the numerator, for example the three in 'three sevenths' @param denominator  the denominator, for example the seven in 'three sevenths' @return a new fraction instance @throws ArithmeticException if the denominator is <code>zero</code> or the denominator is {@code negative} and the numerator is {@code Integer#MIN_VALUE} ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.getNumerator",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.getNumerator()",
    "snippet": "    public int getNumerator() {\n        return numerator;\n    }",
    "comment": " <p>Gets the numerator part of the fraction.</p>  <p>This method may return a value greater than the denominator, an improper fraction, such as the seven in 7/4.</p>  @return the numerator fraction part ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.getReducedFraction",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.getReducedFraction(int,int)",
    "snippet": "    public static Fraction getReducedFraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new ArithmeticException(\"The denominator must not be zero\");\n        }\n        if (numerator==0) {\n            return ZERO; // normalize zero.\n        }\n        // allow 2^k/-2^31 as a valid fraction (where k>0)\n        if (denominator==Integer.MIN_VALUE && (numerator&1)==0) {\n            numerator/=2; denominator/=2;\n        }\n        if (denominator < 0) {\n            if (numerator==Integer.MIN_VALUE ||\n                    denominator==Integer.MIN_VALUE) {\n                throw new ArithmeticException(\"overflow: can't negate\");\n            }\n            numerator = -numerator;\n            denominator = -denominator;\n        }\n        // simplify fraction.\n        int gcd = greatestCommonDivisor(numerator, denominator);\n        numerator /= gcd;\n        denominator /= gcd;\n        return new Fraction(numerator, denominator);\n    }",
    "comment": " <p>Creates a reduced <code>Fraction</code> instance with the 2 parts of a fraction Y/Z.</p>  <p>For example, if the input parameters represent 2/4, then the created fraction will be 1/2.</p>  <p>Any negative signs are resolved to be on the numerator.</p>  @param numerator  the numerator, for example the three in 'three sevenths' @param denominator  the denominator, for example the seven in 'three sevenths' @return a new fraction instance, with the numerator and denominator reduced @throws ArithmeticException if the denominator is <code>zero</code> ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.greatestCommonDivisor",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.greatestCommonDivisor(int,int)",
    "snippet": "    private static int greatestCommonDivisor(int u, int v) {\n        // From Commons Math:\n        //if either operand is abs 1, return 1:\n        if (Math.abs(u) <= 1 || Math.abs(v) <= 1) {\n            return 1;\n        }\n        // keep u and v negative, as negative integers range down to\n        // -2^31, while positive numbers can only be as large as 2^31-1\n        // (i.e. we can't necessarily negate a negative number without\n        // overflow)\n        if (u>0) { u=-u; } // make u negative\n        if (v>0) { v=-v; } // make v negative\n        // B1. [Find power of 2]\n        int k=0;\n        while ((u&1)==0 && (v&1)==0 && k<31) { // while u and v are both even...\n            u/=2; v/=2; k++; // cast out twos.\n        }\n        if (k==31) {\n            throw new ArithmeticException(\"overflow: gcd is 2^31\");\n        }\n        // B2. Initialize: u and v have been divided by 2^k and at least\n        //     one is odd.\n        int t = ((u&1)==1) ? v : -(u/2)/*B3*/;\n        // t negative: u was odd, v may be even (t replaces v)\n        // t positive: u was even, v is odd (t replaces u)\n        do {\n            /* assert u<0 && v<0; */\n            // B4/B3: cast out twos from t.\n            while ((t&1)==0) { // while t is even..\n                t/=2; // cast out twos\n            }\n            // B5 [reset max(u,v)]\n            if (t>0) {\n                u = -t;\n            } else {\n                v = t;\n            }\n            // B6/B3. at this point both u and v should be odd.\n            t = (v - u)/2;\n            // |u| larger: t positive (replace u)\n            // |v| larger: t negative (replace v)\n        } while (t!=0);\n        return -u*(1<<k); // gcd is u*2^k\n    }",
    "comment": " <p>Gets the greatest common divisor of the absolute value of two numbers, using the \"binary gcd\" method which avoids division and modulo operations.  See Knuth 4.5.2 algorithm B. This algorithm is due to Josef Stein (1961).</p>  @param u  a non-zero number @param v  a non-zero number @return the greatest common divisor, never zero ",
    "is_bug": true,
    "failing_test_cases": 2,
    "buggy_methods": 1
  },
  {
    "name": "Fraction.reduce",
    "class_name": "org.apache.commons.lang3.math.Fraction",
    "signature": "org.apache.commons.lang3.math.Fraction.reduce()",
    "snippet": "    public Fraction reduce() {\n        if (numerator == 0) {\n            return equals(ZERO) ? this : ZERO;\n        }\n        int gcd = greatestCommonDivisor(Math.abs(numerator), denominator);\n        if (gcd == 1) {\n            return this;\n        }\n        return Fraction.getFraction(numerator / gcd, denominator / gcd);\n    }",
    "comment": " <p>Reduce the fraction to the smallest values for the numerator and denominator, returning the result.</p>  <p>For example, if this fraction represents 2/4, then the result will be 1/2.</p>  @return a new reduced fraction instance, or this if no simplification possible ",
    "is_bug": false,
    "failing_test_cases": 2,
    "buggy_methods": 1
  }
]