[
  {
    "name": "AbstractUnivariateStatistic.test",
    "class_name": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic",
    "signature": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic.test(double[],double[],int,int)",
    "snippet": "    protected boolean test(\n        final double[] values,\n        final double[] weights,\n        final int begin,\n        final int length) {\n        return test(values, weights, begin, length, false);\n    }",
    "comment": " This method is used by <code>evaluate(double[], double[], int, int)</code> methods to verify that the begin and length parameters designate a subarray of positive length and the weights are all non-negative, non-NaN, finite, and not all zero. <p> <ul> <li>returns <code>true</code> iff the parameters designate a subarray of positive length and the weights array contains legitimate values.</li> <li>throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li></ul> </li> <li>returns <code>false</li> if the array is non-null, but <code>length</code> is 0. </ul></p>  @param values the input array @param weights the weights array @param begin index of the first array element to include @param length the number of elements to include @return true if the parameters are valid and designate a subarray of positive length @throws IllegalArgumentException if the indices are invalid or the array is null @since 2.1 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "AbstractUnivariateStatistic.test",
    "class_name": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic",
    "signature": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic.test(double[],double[],int,int,boolean)",
    "snippet": "    protected boolean test(final double[] values, final double[] weights, final int begin, final int length, final boolean allowEmpty){\n\n        if (weights == null) {\n            throw new NullArgumentException(LocalizedFormats.INPUT_ARRAY);\n        }\n\n        if (weights.length != values.length) {\n            throw new DimensionMismatchException(weights.length, values.length);\n        }\n\n        boolean containsPositiveWeight = false;\n        for (int i = begin; i < begin + length; i++) {\n            if (Double.isNaN(weights[i])) {\n                throw new MathIllegalArgumentException(LocalizedFormats.NAN_ELEMENT_AT_INDEX, i);\n            }\n            if (Double.isInfinite(weights[i])) {\n                throw new MathIllegalArgumentException(LocalizedFormats.INFINITE_ARRAY_ELEMENT, weights[i], i);\n            }\n            if (weights[i] < 0) {\n                throw new MathIllegalArgumentException(LocalizedFormats.NEGATIVE_ELEMENT_AT_INDEX, i, weights[i]);\n            }\n            if (!containsPositiveWeight && weights[i] > 0.0) {\n                containsPositiveWeight = true;\n            }\n        }\n\n        if (!containsPositiveWeight) {\n            throw new MathIllegalArgumentException(LocalizedFormats.WEIGHT_AT_LEAST_ONE_NON_ZERO);\n        }\n\n        return test(values, begin, length, allowEmpty);\n    }",
    "comment": " This method is used by <code>evaluate(double[], double[], int, int)</code> methods to verify that the begin and length parameters designate a subarray of positive length and the weights are all non-negative, non-NaN, finite, and not all zero. <p> <ul> <li>returns <code>true</code> iff the parameters designate a subarray of non-negative length and the weights array contains legitimate values.</li> <li>throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li></ul> </li> <li>returns <code>false</li> if the array is non-null, but <code>length</code> is 0 unless <code>allowEmpty</code> is <code>true</code>. </ul></p>  @param values the input array. @param weights the weights array. @param begin index of the first array element to include. @param length the number of elements to include. @param allowEmpty if {@code true} than allow zero length arrays to pass. @return {@code true} if the parameters are valid. @throws IllegalArgumentException if the indices are invalid or the array is {@code null}. @since 3.0 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "AbstractUnivariateStatistic.test",
    "class_name": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic",
    "signature": "org.apache.commons.math.stat.descriptive.AbstractUnivariateStatistic.test(double[],int,int,boolean)",
    "snippet": "    protected boolean test(final double[] values, final int begin, final int length, final boolean allowEmpty){\n\n        if (values == null) {\n            throw new NullArgumentException(LocalizedFormats.INPUT_ARRAY);\n        }\n\n        if (begin < 0) {\n            throw new NotPositiveException(LocalizedFormats.START_POSITION, begin);\n        }\n\n        if (length < 0) {\n            throw new NotPositiveException(LocalizedFormats.LENGTH, length);\n        }\n\n        if (begin + length > values.length) {\n            throw new NumberIsTooLargeException(LocalizedFormats.SUBARRAY_ENDS_AFTER_ARRAY_END,\n                                                begin + length, values.length, true);\n        }\n\n        if (length == 0 && !allowEmpty) {\n            return false;\n        }\n\n        return true;\n\n    }",
    "comment": " This method is used by <code>evaluate(double[], int, int)</code> methods to verify that the input parameters designate a subarray of positive length. <p> <ul> <li>returns <code>true</code> iff the parameters designate a subarray of non-negative length</li> <li>throws <code>IllegalArgumentException</code> if the array is null or or the indices are invalid</li> <li>returns <code>false</li> if the array is non-null, but <code>length</code> is 0 unless <code>allowEmpty</code> is <code>true</code> </ul></p>  @param values the input array @param begin index of the first array element to include @param length the number of elements to include @param allowEmpty if <code>true</code> then zero length arrays are allowed @return true if the parameters are valid @throws IllegalArgumentException if the indices are invalid or the array is null @since 3.0 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "FirstMoment.FirstMoment",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.FirstMoment",
    "signature": "org.apache.commons.math.stat.descriptive.moment.FirstMoment.FirstMoment()",
    "snippet": "    public FirstMoment() {\n        n = 0;\n        m1 = Double.NaN;\n        dev = Double.NaN;\n        nDev = Double.NaN;\n    }",
    "comment": " Create a FirstMoment instance ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "FirstMoment.clear",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.FirstMoment",
    "signature": "org.apache.commons.math.stat.descriptive.moment.FirstMoment.clear()",
    "snippet": "    @Override\n    public void clear() {\n        m1 = Double.NaN;\n        n = 0;\n        dev = Double.NaN;\n        nDev = Double.NaN;\n    }",
    "comment": " {@inheritDoc} ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Mean.Mean",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Mean",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Mean.Mean()",
    "snippet": "    public Mean() {\n        incMoment = true;\n        moment = new FirstMoment();\n    }",
    "comment": "Constructs a Mean. */",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Mean.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Mean",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Mean.evaluate(double[],double[],int,int)",
    "snippet": "    public double evaluate(final double[] values, final double[] weights,\n                           final int begin, final int length) {\n        if (test(values, weights, begin, length)) {\n            Sum sum = new Sum();\n\n            // Compute initial estimate using definitional formula\n            double sumw = sum.evaluate(weights,begin,length);\n            double xbarw = sum.evaluate(values, weights, begin, length) / sumw;\n\n            // Compute correction factor in second pass\n            double correction = 0;\n            for (int i = begin; i < begin + length; i++) {\n                correction += weights[i] * (values[i] - xbarw);\n            }\n            return xbarw + (correction/sumw);\n        }\n        return Double.NaN;\n    }",
    "comment": " Returns the weighted arithmetic mean of the entries in the specified portion of the input array, or <code>Double.NaN</code> if the designated subarray is empty. <p> Throws <code>IllegalArgumentException</code> if either array is null.</p> <p> See {@link Mean} for details on the computing algorithm. The two-pass algorithm described above is used here, with weights applied in computing both the original estimate and the correction factor.</p> <p> Throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li> </ul></p>  @param values the input array @param weights the weights array @param begin index of the first array element to include @param length the number of elements to include @return the mean of the values or Double.NaN if length = 0 @throws IllegalArgumentException if the parameters are not valid @since 2.1 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "SecondMoment.SecondMoment",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.SecondMoment",
    "signature": "org.apache.commons.math.stat.descriptive.moment.SecondMoment.SecondMoment()",
    "snippet": "    public SecondMoment() {\n        super();\n        m2 = Double.NaN;\n    }",
    "comment": " Create a SecondMoment instance ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "SecondMoment.clear",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.SecondMoment",
    "signature": "org.apache.commons.math.stat.descriptive.moment.SecondMoment.clear()",
    "snippet": "    @Override\n    public void clear() {\n        super.clear();\n        m2 = Double.NaN;\n    }",
    "comment": " {@inheritDoc} ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Variance.Variance",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Variance",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Variance.Variance()",
    "snippet": "    public Variance() {\n        moment = new SecondMoment();\n    }",
    "comment": " Constructs a Variance with default (true) <code>isBiasCorrected</code> property. ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Variance.clear",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Variance",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Variance.clear()",
    "snippet": "    @Override\n    public void clear() {\n        if (incMoment) {\n            moment.clear();\n        }\n    }",
    "comment": " {@inheritDoc} ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Variance.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Variance",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Variance.evaluate(double[],double[])",
    "snippet": "    public double evaluate(final double[] values, final double[] weights) {\n        return evaluate(values, weights, 0, values.length);\n    }",
    "comment": " <p> Returns the weighted variance of the entries in the the input array.</p> <p> Uses the formula <pre> &Sigma;(weights[i]*(values[i] - weightedMean)<sup>2</sup>)/(&Sigma;(weights[i]) - 1) </pre> where weightedMean is the weighted mean</p> <p> This formula will not return the same result as the unweighted variance when all weights are equal, unless all weights are equal to 1. The formula assumes that weights are to be treated as \"expansion values,\" as will be the case if for example the weights represent frequency counts. To normalize weights so that the denominator in the variance computation equals the length of the input vector minus one, use <pre> <code>evaluate(values, MathArrays.normalizeArray(weights, values.length)); </code> </pre> <p> Returns 0 for a single-value (i.e. length = 1) sample.</p> <p> Throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> </ul></p> <p> Does not change the internal state of the statistic.</p> <p> Throws <code>IllegalArgumentException</code> if either array is null.</p>  @param values the input array @param weights the weights array @return the weighted variance of the values @throws IllegalArgumentException if the parameters are not valid @since 2.1 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Variance.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Variance",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Variance.evaluate(double[],double[],double,int,int)",
    "snippet": "    public double evaluate(final double[] values, final double[] weights,\n                           final double mean, final int begin, final int length) {\n\n        double var = Double.NaN;\n\n        if (test(values, weights, begin, length)) {\n            if (length == 1) {\n                var = 0.0;\n            } else if (length > 1) {\n                double accum = 0.0;\n                double dev = 0.0;\n                double accum2 = 0.0;\n                for (int i = begin; i < begin + length; i++) {\n                    dev = values[i] - mean;\n                    accum += weights[i] * (dev * dev);\n                    accum2 += weights[i] * dev;\n                }\n\n                double sumWts = 0;\n                for (int i = 0; i < weights.length; i++) {\n                    sumWts += weights[i];\n                }\n\n                if (isBiasCorrected) {\n                    var = (accum - (accum2 * accum2 / sumWts)) / (sumWts - 1.0);\n                } else {\n                    var = (accum - (accum2 * accum2 / sumWts)) / sumWts;\n                }\n            }\n        }\n        return var;\n    }",
    "comment": " Returns the weighted variance of the entries in the specified portion of the input array, using the precomputed weighted mean value.  Returns <code>Double.NaN</code> if the designated subarray is empty. <p> Uses the formula <pre> &Sigma;(weights[i]*(values[i] - mean)<sup>2</sup>)/(&Sigma;(weights[i]) - 1) </pre></p> <p> The formula used assumes that the supplied mean value is the weighted arithmetic mean of the sample data, not a known population parameter. This method is supplied only to save computation when the mean has already been computed.</p> <p> This formula will not return the same result as the unweighted variance when all weights are equal, unless all weights are equal to 1. The formula assumes that weights are to be treated as \"expansion values,\" as will be the case if for example the weights represent frequency counts. To normalize weights so that the denominator in the variance computation equals the length of the input vector minus one, use <pre> <code>evaluate(values, MathArrays.normalizeArray(weights, values.length), mean); </code> </pre> <p> Returns 0 for a single-value (i.e. length = 1) sample.</p> <p> Throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li> </ul></p> <p> Does not change the internal state of the statistic.</p>  @param values the input array @param weights the weights array @param mean the precomputed weighted mean value @param begin index of the first array element to include @param length the number of elements to include @return the variance of the values or Double.NaN if length = 0 @throws IllegalArgumentException if the parameters are not valid @since 2.1 ",
    "is_bug": true,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Variance.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.moment.Variance",
    "signature": "org.apache.commons.math.stat.descriptive.moment.Variance.evaluate(double[],double[],int,int)",
    "snippet": "    public double evaluate(final double[] values, final double[] weights,\n                           final int begin, final int length) {\n\n        double var = Double.NaN;\n\n        if (test(values, weights,begin, length)) {\n            clear();\n            if (length == 1) {\n                var = 0.0;\n            } else if (length > 1) {\n                Mean mean = new Mean();\n                double m = mean.evaluate(values, weights, begin, length);\n                var = evaluate(values, weights, m, begin, length);\n            }\n        }\n        return var;\n    }",
    "comment": " <p>Returns the weighted variance of the entries in the specified portion of the input array, or <code>Double.NaN</code> if the designated subarray is empty.</p> <p> Uses the formula <pre> &Sigma;(weights[i]*(values[i] - weightedMean)<sup>2</sup>)/(&Sigma;(weights[i]) - 1) </pre> where weightedMean is the weighted mean</p> <p> This formula will not return the same result as the unweighted variance when all weights are equal, unless all weights are equal to 1. The formula assumes that weights are to be treated as \"expansion values,\" as will be the case if for example the weights represent frequency counts. To normalize weights so that the denominator in the variance computation equals the length of the input vector minus one, use <pre> <code>evaluate(values, MathArrays.normalizeArray(weights, values.length)); </code> </pre> <p> Returns 0 for a single-value (i.e. length = 1) sample.</p> <p> Throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li> </ul></p> <p> Does not change the internal state of the statistic.</p> <p> Throws <code>IllegalArgumentException</code> if either array is null.</p>  @param values the input array @param weights the weights array @param begin index of the first array element to include @param length the number of elements to include @return the weighted variance of the values or Double.NaN if length = 0 @throws IllegalArgumentException if the parameters are not valid @since 2.1 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Sum.Sum",
    "class_name": "org.apache.commons.math.stat.descriptive.summary.Sum",
    "signature": "org.apache.commons.math.stat.descriptive.summary.Sum.Sum()",
    "snippet": "    public Sum() {\n        n = 0;\n        value = 0;\n    }",
    "comment": " Create a Sum instance ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Sum.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.summary.Sum",
    "signature": "org.apache.commons.math.stat.descriptive.summary.Sum.evaluate(double[],double[],int,int)",
    "snippet": "    public double evaluate(final double[] values, final double[] weights,\n                           final int begin, final int length) {\n        double sum = Double.NaN;\n        if (test(values, weights, begin, length, true)) {\n            sum = 0.0;\n            for (int i = begin; i < begin + length; i++) {\n                sum += values[i] * weights[i];\n            }\n        }\n        return sum;\n    }",
    "comment": " The weighted sum of the entries in the specified portion of the input array, or 0 if the designated subarray is empty. <p> Throws <code>IllegalArgumentException</code> if any of the following are true: <ul><li>the values array is null</li> <li>the weights array is null</li> <li>the weights array does not have the same length as the values array</li> <li>the weights array contains one or more infinite values</li> <li>the weights array contains one or more NaN values</li> <li>the weights array contains negative values</li> <li>the start and length arguments do not determine a valid array</li> </ul></p> <p> Uses the formula, <pre> weighted sum = &Sigma;(values[i] * weights[i]) </pre></p>  @param values the input array @param weights the weights array @param begin index of the first array element to include @param length the number of elements to include @return the sum of the values or 0 if length = 0 @throws IllegalArgumentException if the parameters are not valid @since 2.1 ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "Sum.evaluate",
    "class_name": "org.apache.commons.math.stat.descriptive.summary.Sum",
    "signature": "org.apache.commons.math.stat.descriptive.summary.Sum.evaluate(double[],int,int)",
    "snippet": "    @Override\n    public double evaluate(final double[] values, final int begin, final int length) {\n        double sum = Double.NaN;\n        if (test(values, begin, length, true)) {\n            sum = 0.0;\n            for (int i = begin; i < begin + length; i++) {\n                sum += values[i];\n            }\n        }\n        return sum;\n    }",
    "comment": " The sum of the entries in the specified portion of the input array, or 0 if the designated subarray is empty. <p> Throws <code>IllegalArgumentException</code> if the array is null.</p>  @param values the input array @param begin index of the first array element to include @param length the number of elements to include @return the sum of the values or 0 if length = 0 @throws IllegalArgumentException if the array is null or the array index parameters are not valid ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  },
  {
    "name": "FastMath.sqrt",
    "class_name": "org.apache.commons.math.util.FastMath",
    "signature": "org.apache.commons.math.util.FastMath.sqrt(double)",
    "snippet": "    public static double sqrt(final double a) {\n        return Math.sqrt(a);\n    }",
    "comment": "Compute the square root of a number. <p><b>Note:</b> this implementation currently delegates to {@link Math#sqrt} @param a number on which evaluation is done @return square root of a ",
    "is_bug": false,
    "failing_test_cases": 1,
    "buggy_methods": 1
  }
]